(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d738f8b"],{"7bb3":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("SideBar",{on:{"after-post-tweet":t.afterPostTweet}}),r("div",{staticClass:"user-wrapper"},[r("UserProfile",{attrs:{"initial-user":t.user},on:{"after-profile-submit":t.afterProfileSubmit}}),r("div",{staticClass:"item-list"},[r("router-link",{staticClass:"item-link",attrs:{to:"#"}},[r("button",{staticClass:"item item-current"},[t._v("推文")])]),r("router-link",{staticClass:"item-link",attrs:{to:{name:"user-reply",params:{id:t.user.id}}}},[r("button",{staticClass:"item"},[t._v("推文與回覆")])]),r("router-link",{staticClass:"item-link",attrs:{to:{name:"user-like",params:{id:t.user.id}}}},[r("button",{staticClass:"item"},[t._v("喜歡的內容")])])],1),t._l(t.tweets,(function(t){return r("Tweets",{key:t.id,attrs:{"initial-tweet":t}})}))],2),r("OtherUsers",{on:{"after-follow-action":t.afterFollowAction}})],1)},s=[],n=r("1da1"),i=r("5530"),o=(r("96cf"),r("b0c0"),r("d81d"),r("a4d3"),r("e01a"),r("7c08")),c=r("b112"),u=r("9f73"),l=r("c136"),f=r("1602"),d=r("2fa3"),w=r("2f62"),h={name:"UserSelf",components:{SideBar:o["a"],OtherUsers:c["a"],UserProfile:u["a"],Tweets:l["a"]},data:function(){return{user:{id:-1,account:"",name:"",cover:"",avatar:"",introduction:"",tweetCount:-1,followingCount:-1,followerCOunt:-1},tweets:[]}},computed:Object(i["a"])({},Object(w["b"])(["currentUser"])),created:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchUserTweets(t)},beforeRouteUpdate:function(t,e,r){var a=t.params.id;this.fetchUser(a),this.fetchUserTweets(a),r()},methods:{fetchUser:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s,n,i,o,c,u,l,w,h,m,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f["a"].getUser({userId:t});case 3:a=r.sent,s=a.data,n=s.id,i=s.account,o=s.name,c=s.cover,u=s.avatar,l=s.introduction,w=s.tweetCount,h=s.followingCount,m=s.followerCount,p=s.isFollowing,e.user={id:n,account:i,name:o,cover:c,avatar:u,introduction:l,tweetCount:w,followingCount:h,followerCount:m,isFollowing:p},r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.error(r.t0),d["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},fetchUserTweets:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var a,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,f["a"].getUserTweets({userId:t});case 3:a=r.sent,s=a.data,e.tweets=s.map((function(t){return{id:t.tweetId,userId:t.userId,account:t.userAccount,name:t.userName,avatar:t.userAvatar,description:t.description,createdAt:t.createdAt,replyCount:t.replyCount,likeCount:t.likeCount,isLiked:t.isLiked}})),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),d["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},afterPostTweet:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchUserTweets(t)},afterFollowAction:function(){var t=this.$route.params.id;this.fetchUser(t)},afterProfileSubmit:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchUserTweets(t)}}},m=h,p=(r("a31d"),r("2877")),v=Object(p["a"])(m,a,s,!1,null,"0dbc1f8c",null);e["default"]=v.exports},a31d:function(t,e,r){"use strict";r("ef13")},ef13:function(t,e,r){}}]);
//# sourceMappingURL=chunk-1d738f8b.d620d3f6.js.map