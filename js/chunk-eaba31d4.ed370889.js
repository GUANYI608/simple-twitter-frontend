(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eaba31d4"],{"0c81":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("SideBar",{on:{"after-post-tweet":t.afterPostTweet}}),r("div",{staticClass:"user-wrapper"},[r("UserProfile",{attrs:{"initial-user":t.user}}),r("div",{staticClass:"item-list"},[r("router-link",{staticClass:"item-link",attrs:{to:{name:"user",params:{id:t.user.id}}}},[r("button",{staticClass:"item"},[t._v("推文")])]),r("router-link",{staticClass:"item-link",attrs:{to:"#"}},[r("button",{staticClass:"item item-current"},[t._v("推文與回覆")])]),r("router-link",{staticClass:"item-link",attrs:{to:{name:"user-like",params:{id:t.user.id}}}},[r("button",{staticClass:"item"},[t._v("喜歡的內容")])])],1),r("UserComments",{attrs:{replies:t.replies}})],1),r("OtherUsers",{on:{"after-follow-action":t.afterFollowAction}})],1)},a=[],n=r("1da1"),i=r("5530"),o=(r("96cf"),r("b0c0"),r("d81d"),r("7c08")),c=r("b112"),u=r("9f73"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"usercomments"},t._l(t.replies,(function(e){return r("div",{key:e.id},[r("div",{staticClass:"comment"},[r("router-link",{attrs:{to:{name:"user",params:{id:e.userId}}}},[r("img",{staticClass:"user-avatar",attrs:{src:e.avatar,alt:"avatar"}})]),r("div",{staticClass:"user-info"},[r("router-link",{attrs:{to:{name:"user",params:{id:e.userId}}}},[r("span",{staticClass:"user-name"},[t._v(" "+t._s(e.name)+" ")])]),r("span",{staticClass:"detail-info"},[t._v(" @"+t._s(e.account)+"・"+t._s(t._f("fromNow")(e.createdAt))+" ")])],1),r("p",{staticClass:"reply-to"},[t._v(" 回覆"),r("span",{staticClass:"tweet-account"},[t._v("@ "+t._s(e.account)+" ")])]),r("router-link",{attrs:{to:{name:"reply-list",params:{id:e.tweetId}}}},[r("p",{staticClass:"comment-content"},[t._v(t._s(e.comment))])])],1)])})),0)},m=[],d=r("2708"),f={name:"UserComments",mixins:[d["a"]],props:{replies:{type:Array,required:!0}}},p=f,v=(r("a2c7"),r("2877")),w=Object(v["a"])(p,l,m,!1,null,"cdeebbd4",null),h=w.exports,C=r("1602"),b=r("2fa3"),U=r("2f62"),_={name:"UserSelf",components:{SideBar:o["a"],OtherUsers:c["a"],UserProfile:u["a"],UserComments:h},data:function(){return{user:{id:-1,account:"",name:"",cover:"",avatar:"",introduction:"",tweetCount:-1,followingCount:-1,followerCOunt:-1},replies:[]}},computed:Object(i["a"])({},Object(U["b"])(["currentUser"])),created:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchUserReplies(t)},methods:{fetchUser:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s,a,n,i,o,c,u,l,m,d,f,p;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,C["a"].getUser({userId:t});case 3:s=r.sent,a=s.data,n=a.id,i=a.account,o=a.name,c=a.cover,u=a.avatar,l=a.introduction,m=a.tweetCount,d=a.followingCount,f=a.followerCount,p=a.isFollowing,e.user={id:n,account:i,name:o,cover:c,avatar:u,introduction:l,tweetCount:m,followingCount:d,followerCount:f,isFollowing:p},r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.error(r.t0),b["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},fetchUserReplies:function(t){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){var s,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,C["a"].getUserReplies({userId:t});case 3:s=r.sent,a=s.data,e.replies=a.map((function(t){return{userId:t.UserId,tweetId:t.TweetId,comment:t.comment,createdAt:t.createdAt,avatar:e.user.avatar,name:e.user.name,account:e.user.account}})),r.next=12;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0),b["a"].fire({icon:"error",title:"無法取得推文，請稍後再試"});case 12:case"end":return r.stop()}}),r,null,[[0,8]])})))()},afterPostTweet:function(){var t=this.$route.params.id;this.fetchUser(t),this.fetchUserTweets(t)},afterFollowAction:function(){var t=this.$route.params.id;this.fetchUser(t)}}},k=_,g=(r("8db8"),Object(v["a"])(k,s,a,!1,null,"ec45892c",null));e["default"]=g.exports},"8db8":function(t,e,r){"use strict";r("be8c")},a2c7:function(t,e,r){"use strict";r("f0c0")},be8c:function(t,e,r){},f0c0:function(t,e,r){}}]);
//# sourceMappingURL=chunk-eaba31d4.ed370889.js.map