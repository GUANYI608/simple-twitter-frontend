(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c049163"],{"09b4":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("SideBar"),o("div",{staticClass:"followings-wrapper"},[o("header",{staticClass:"page-header"},[o("div",{staticClass:"page-head",on:{click:function(e){return t.$router.push({name:"user",params:{id:t.user.id}})}}},[o("img",{staticClass:"back-icon",attrs:{src:r("11aa"),alt:"back to home page"}}),o("h6",{staticClass:"user-title"},[t._v(t._s(t.user.name))]),o("span",{staticClass:"tweet-count"},[t._v(t._s(t.user.tweetCount)+" 推文")])]),o("div",{staticClass:"item-list"},[o("router-link",{staticClass:"item-link",attrs:{to:"#"}},[o("button",{staticClass:"item",class:{current:"followers"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("followers")}}},[t._v(" 跟隨者 ")])]),o("router-link",{staticClass:"item-link",attrs:{to:"#"}},[o("button",{staticClass:"item",class:{current:"followings"===t.tab},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.redirectTab("followings")}}},[t._v(" 正在跟隨 ")])])],1)]),t._l(t.followShipData,(function(e){return o("UserFollowDetail",{key:e.id,attrs:{"initial-follow":e},on:{"after-change-follow":t.afterChangeFollow}})}))],2),o("OtherUsers")],1)},a=[];function n(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,o=new Array(e);r<e;r++)o[r]=t[r];return o}function i(t){if(Array.isArray(t))return n(t)}r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function s(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r("fb6a"),r("b0c0");function l(t,e){if(t){if("string"===typeof t)return n(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(t,e):void 0}}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){return i(t)||s(t)||l(t)||c()}var f=r("1da1"),w=(r("96cf"),r("7c08")),A=r("b112"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"userfollowers"},[r("section",{staticClass:"tweet-list"},[r("div",{staticClass:"tweet"},[r("img",{staticClass:"user-avatar",attrs:{src:t.follow.avatar,alt:"avatar"}}),r("div",{staticClass:"user-info"},[r("p",{staticClass:"user-name"},[t._v(t._s(t.follow.name))]),r("p",{staticClass:"user-account"},[t._v("@"+t._s(t.follow.account))])]),t.follow.isFollowing?r("button",{staticClass:"following-button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.unfollowUser(t.id)}}},[t._v(" 正在跟隨 ")]):r("button",{staticClass:"tofollow-button",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.followUser(t.id)}}},[t._v(" 跟隨 ")]),t.follow.introduction?r("p",{staticClass:"tweet-content"},[t._v(" "+t._s(t.follow.introduction)+" ")]):r("p",{staticClass:"tweet-content-empty"},[t._v('尚無"自我介紹"相關資料')])])])])},h=[],p=r("5530"),v=r("2f62"),b=r("1602"),g=r("2fa3"),m={name:"UserFollowDetail",props:{initialFollow:{type:Object,required:!0}},data:function(){return{follow:{},id:-1}},computed:Object(p["a"])({},Object(v["b"])(["currentUser"])),created:function(){this.fetchFollow(),this.fetchId()},watch:{initalFollow:function(t){this.follow=Object(p["a"])(Object(p["a"])({},this.follow),t)}},methods:{fetchId:function(){this.follow.followerId?this.id=this.follow.followerId:this.id=this.follow.followingId},fetchFollow:function(){this.follow=this.initialFollow},followUser:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].followUser(t);case 3:o=r.sent,a=o.data,"error"===a.status&&g["a"].fire({icon:"error",title:a.message}),e.$emit("after-change-follow"),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),g["a"].fire({icon:"warning",title:"無法追蹤使用者，請稍候再試"});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()},unfollowUser:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var o,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].unfollowUser({followingId:t});case 3:o=r.sent,a=o.data,"error"===a.status&&g["a"].fire({icon:"error",title:a.message}),e.$emit("after-change-follow"),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),g["a"].fire({icon:"warning",title:"無法取消追蹤，請稍候再試"});case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},U=m,B=(r("6be8"),r("2877")),Q=Object(B["a"])(U,d,h,!1,null,"53e4fda0",null),F=Q.exports,E={name:"UserFollowList",components:{SideBar:w["a"],OtherUsers:A["a"],UserFollowDetail:F},data:function(){return{user:{id:-1,name:"",tweetCount:-1},followShipData:[],tab:""}},created:function(){var t=this.$route.params.id,e=this.$route.name;"user-followings"===e?this.tab="followings":"user-followers"===e&&(this.tab="followers"),this.fetchUser(t),this.fetchFollowData(t,this.tab)},methods:{fetchUser:function(t){var e=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var o,a,n,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,b["a"].getUser({userId:t});case 3:o=r.sent,a=o.data,n=a.id,i=a.name,s=a.tweetCount,e.user={id:n,name:i,tweetCount:s},r.next=13;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0),g["a"].fire({icon:"error",title:"無法取得使用者資料，請稍後再試"});case 13:case"end":return r.stop()}}),r,null,[[0,9]])})))()},fetchFollowData:function(t,e){var r=this;return Object(f["a"])(regeneratorRuntime.mark((function o(){var a;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(o.prev=0,a={},"followings"!==e){o.next=8;break}return o.next=5,b["a"].getFollowings({userId:t});case 5:a=o.sent,o.next=12;break;case 8:if("followers"!==e){o.next=12;break}return o.next=11,b["a"].getFollowers({userId:t});case 11:a=o.sent;case 12:r.followShipData=u(a.data),o.next=19;break;case 15:o.prev=15,o.t0=o["catch"](0),console.log(o.t0),g["a"].fire({icon:"error",title:"無法取得跟隨清單資料，請稍後再試"});case 19:case"end":return o.stop()}}),o,null,[[0,15]])})))()},redirectTab:function(t){this.tab!==t&&(this.tab=t,"followings"===t?this.$router.push({name:"user-followings",params:{id:this.user.id,tab:t}}):"followers"===t&&this.$router.push({name:"user-followers",params:{id:this.user.id,tab:t}}),this.followShipData=[],this.fetchFollowData(this.user.id,this.tab))},afterChangeFollow:function(){this.followShipData=[];var t=this.$route.params.id;this.fetchFollowData(t,this.tab),g["a"].fire({icon:"success",title:"已將使用者加入跟隨清單"})}}},D=E,k=(r("d1a2"),Object(B["a"])(D,o,a,!1,null,"9ed9ed46",null));e["default"]=k.exports},"11aa":function(t,e){t.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wAARCAAwADADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9U6KKjuLiK0t5Z55UhgiUvJLIwVUUDJJJ4AA70ASUV+Zfxa/4KH/En41/tF6H8Mv2YYoL21tbrF5rM9ok8OoBSBIxLgiK1QdZBhmONpGV3fppQAUUUUAFfjZ/wUP/AOCiD/GfV7n4U/DrVxpXgJZ/suseIDvA1I7sMo2KXFsvJO1S0mOAVwG/ZOvxr/4KHf8ABO5/grq1z8Vfhzo66p4BM4udX8PHeRph3ZYjYyv9lbodrBo88ELgqAe1/se/tC/scfsj+ABpel/EtNT8T3yq+s6/J4d1MSXUg/gT/RspEpJ2p+JySTXv/wDw9H/Zi/6Kb/5QNU/+Rq8B/Y9/Z6/Y4/a48ADVNL+GiaZ4nsVVNZ0CTxFqZktZD/Gn+k5eJiDtf8Dggivfv+HXH7MX/RMv/K/qn/yTQAf8PR/2Yv8Aopv/AJQNU/8Akavoj4e/ELw78VvBul+LPCeqw614e1OMyWl9AGVZAGKNwwDAhlZSCAQQQRxXzv8A8OuP2Yv+iZf+V/VP/kmvoj4e/D3w78KfBmleE/Celx6N4e0uMxWljEzMsalix+ZiWYlmYksSSSSTQB0VR3FvFeW8sE8STwSqUkikUMrqRggg8EEdqkooA/Mv4tf8E8PiT8FP2itE+Jv7MM0Fja3V1m80ae6SGLTwzDzVw7AS2rDOYxllx8oPy7f00oooAKKKKAP/2Q=="},"4df4":function(t,e,r){"use strict";var o=r("0366"),a=r("7b0b"),n=r("9bdd"),i=r("e95a"),s=r("50c4"),l=r("8418"),c=r("35a1");t.exports=function(t){var e,r,u,f,w,A,d=a(t),h="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,b=void 0!==v,g=c(d),m=0;if(b&&(v=o(v,p>2?arguments[2]:void 0,2)),void 0==g||h==Array&&i(g))for(e=s(d.length),r=new h(e);e>m;m++)A=b?v(d[m],m):d[m],l(r,m,A);else for(f=g.call(d),w=f.next,r=new h;!(u=w.call(f)).done;m++)A=b?n(f,v,[u.value,m],!0):u.value,l(r,m,A);return r.length=m,r}},"6be8":function(t,e,r){"use strict";r("8dff")},"8dff":function(t,e,r){},"9bdd":function(t,e,r){var o=r("825a"),a=r("2a62");t.exports=function(t,e,r,n){try{return n?e(o(r)[0],r[1]):e(r)}catch(i){throw a(t),i}}},a630:function(t,e,r){var o=r("23e7"),a=r("4df4"),n=r("1c7e"),i=!n((function(t){Array.from(t)}));o({target:"Array",stat:!0,forced:i},{from:a})},d1a2:function(t,e,r){"use strict";r("dbcf")},d28b:function(t,e,r){var o=r("746f");o("iterator")},dbcf:function(t,e,r){},fb6a:function(t,e,r){"use strict";var o=r("23e7"),a=r("861d"),n=r("e8b5"),i=r("23cb"),s=r("50c4"),l=r("fc6a"),c=r("8418"),u=r("b622"),f=r("1dde"),w=f("slice"),A=u("species"),d=[].slice,h=Math.max;o({target:"Array",proto:!0,forced:!w},{slice:function(t,e){var r,o,u,f=l(this),w=s(f.length),p=i(t,w),v=i(void 0===e?w:e,w);if(n(f)&&(r=f.constructor,"function"!=typeof r||r!==Array&&!n(r.prototype)?a(r)&&(r=r[A],null===r&&(r=void 0)):r=void 0,r===Array||void 0===r))return d.call(f,p,v);for(o=new(void 0===r?Array:r)(h(v-p,0)),u=0;p<v;p++,u++)p in f&&c(o,u,f[p]);return o.length=u,o}})}}]);
//# sourceMappingURL=chunk-2c049163.eda2bea9.js.map